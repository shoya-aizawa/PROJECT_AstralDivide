# Astral Divide RCS Protocol â€“ v0.3a Final Summary

**Project:** PROJECT\_AstralDivide\
**Developer:** HedgeHogSoft (æ„›æ¾¤ç¿”ä¹Ÿ / HedgeHog)\
**Subsystem:** Return Code System (RCS)\
**File:** `RCS_Util.bat` v0.3a\
**Date:** 2025-10-22

---

## 1. æ¦‚è¦

RCS (Return Code System) ã¯ã€Astral Divide å…¨ä½“ã«çµ±ä¸€çš„ãªæˆ»ã‚Šå€¤ãƒ»ä¾‹å¤–ãƒ»ãƒ­ã‚°å‡ºåŠ›ç®¡ç†ã‚’æä¾›ã™ã‚‹åŸºç›¤ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚ã‚‹ã€‚\
æœ¬ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¯æ—§ä»•æ§˜ã€ŒReturnCodeUtil.bat (RECS v1)ã€ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€æ§‹é€ ãƒ»å‘½åè¦å‰‡ãƒ»ãƒ­ã‚°åˆ¶å¾¡ã‚’å†è¨­è¨ˆã—ã€**å†—é•·æ€§ã‚’æ’ã—ã¤ã¤ã‚‚å¯èª­æ€§ã¨å†åˆ©ç”¨æ€§ã‚’ç¶­æŒã™ã‚‹è¨­è¨ˆ**ã¸ã¨åˆ·æ–°ã—ãŸã€‚

æœ¬ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆv0.3aï¼‰ã¯ã€**RCSæ©Ÿèƒ½ã®åŸºç¤å®Œæˆæ®µéš**ã¨ã—ã¦ã€ä»Šå¾Œã®Codexç§»è¡Œãƒ»ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰æ¨™æº–åŒ–ã«å¯¾å¿œå¯èƒ½ãªä»•æ§˜ã‚’ç¢ºç«‹ã—ãŸæœ€çµ‚å®‰å®šç‰ˆã§ã‚ã‚‹ã€‚

---

## 2. é–‹ç™ºå±¥æ­´ / ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¨ç§»

| Version   | Date       | ä¸»ãªæ›´æ–°å†…å®¹                                             |
| --------- | ---------- | -------------------------------------------------- |
| **v0.1d** | 2025-10-18 | æ—§Run.batã«RCSå°å…¥å®Ÿé¨“ç‰ˆã€‚RC\_LASTç­‰ã®æš«å®šå¤‰æ•°ã‚’é‹ç”¨ã€‚               |
| **v0.2**  | 2025-10-20 | RCS\_Utilç‹¬ç«‹åŒ–ã€æ§‹æ–‡çµ±ä¸€ï¼ˆ-build / -throw / -traceï¼‰ã€‚       |
| **v0.3**  | 2025-10-21 | çµ±åˆãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³å˜ä½ãƒ­ã‚°ï¼‰ã€Powershellæ™‚åˆ»ç²¾å¯†åŒ–ã€‚             |
| **v0.3a** | 2025-10-22 | ã‚µã‚¤ãƒ¬ãƒ³ãƒˆãƒ­ã‚°ä»•æ§˜æ¡ç”¨ï¼ˆINFOç³»å‡ºåŠ›æŠ‘åˆ¶ï¼‰ã€pretty/helpã®ã¿è¡¨ç¤ºè¨±å¯ã€‚æœ€çµ‚å®‰å®šãƒªãƒªãƒ¼ã‚¹ã€‚ |

---

## 3. ã‚·ã‚¹ãƒ†ãƒ æ§‹é€ 

```
PROJECT_ROOT
 â””â”€ Src\Systems\Debug\RCS_Util.bat     (æœ¬ä½“)
 â””â”€ Src\Systems\Debug\ReturnCodeConst.bat (å®šæ•°ç¾¤)ï¼ˆå°†æ¥çš„ã«RCS_Const.batã¨ã—ã¦ä¸€æ–°äºˆå®šï¼‰
 â””â”€ Config\Logs\                         (å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)
```

### ä¸»ãªé–¢æ•°ä¸€è¦§

| ãƒ©ãƒ™ãƒ«       | æ©Ÿèƒ½      | å‡ºåŠ›    | å‚™è€ƒ                     |
| --------- | ------- | ----- | ---------------------- |
| `-build`  | 8æ¡ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ | éè¡¨ç¤º   | SDDRRCCCã‚’ç®—å‡ºã—æ•°å€¤è¿”å´       |
| `-decode` | ã‚³ãƒ¼ãƒ‰åˆ†è§£   | éè¡¨ç¤º   | rcs\_s/dd/rr/ccc å¤‰æ•°ã¸å±•é–‹ |
| `-return` | æ­£å¸¸çµ‚äº†å‡¦ç†  | ã‚µã‚¤ãƒ¬ãƒ³ãƒˆ | traceã«è»¢é€ãƒ»exit /b code  |
| `-throw`  | ä¾‹å¤–å‡¦ç†    | ã‚µã‚¤ãƒ¬ãƒ³ãƒˆ | ãƒ­ã‚°ã®ã¿æ›¸è¾¼ã€stderrå‡ºåŠ›å»ƒæ­¢      |
| `-trace`  | ãƒ­ã‚°å‡ºåŠ›    | ã‚µã‚¤ãƒ¬ãƒ³ãƒˆ | ã™ã¹ã¦Config\Logsã«é›†ç´„å‡ºåŠ›    |
| `-pretty` | æ•´å½¢è¡¨ç¤º    | è¡¨ç¤ºã‚ã‚Š  | äººé–“å¯èª­ç¢ºèªç”¨ã€‚ãƒ­ã‚°ã«ã¯æ®‹ã•ãªã„       |
| `-help`   | ã‚³ãƒãƒ³ãƒ‰èª¬æ˜  | è¡¨ç¤ºã‚ã‚Š  | æ˜ç¤ºå‘¼å‡ºæ™‚ã®ã¿è¡¨ç¤º              |

---

## 4. ã‚µã‚¤ãƒ¬ãƒ³ãƒˆãƒ­ã‚°ä»•æ§˜ï¼ˆv0.3a æ–¹é‡ï¼‰

| å¯¾è±¡                     | ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ› | ãƒ­ã‚°å‡ºåŠ› | ç†ç”±             |
| ---------------------- | ------- | ---- | -------------- |
| trace / throw / return | âŒ ç„¡     | âœ… æœ‰  | å®Ÿè¡Œæ™‚ãƒã‚¤ã‚ºã‚’æ’é™¤ã€UXæ”¹å–„ |
| pretty / help          | âœ… æœ‰     | âŒ ç„¡  | ãƒ‡ãƒãƒƒã‚°ãƒ»ç¢ºèªå°‚ç”¨æ©Ÿèƒ½    |

### ãƒ­ã‚°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```
[YYYY-MM-DD_HH:MM:SS.fff] [LEVEL] [MODULE] message
```

### å‡ºåŠ›å…ˆä¾‹

- ãƒ¡ã‚¤ãƒ³ãƒ­ã‚°ï¼š`Config\Logs\AstralDivide_Session_YYYY-MM-DD.log`
- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ï¼š`Config\Logs\AstralDivide_Error_YYYY-MM-DD.log`

---

## 5. æ—§RECS v1 â†’ RCS v0.3a æ©Ÿèƒ½ç§»è¡Œè¡¨

| æ©Ÿèƒ½å               | æ—§\:ReturnCodeUtil | æ–°\:RCS\_Util  | çŠ¶æ…‹    |
| ----------------- | ----------------- | ------------- | ----- |
| ã‚³ãƒ¼ãƒ‰æ§‹ç¯‰ (`-build`)  | åŒç­‰æ©Ÿèƒ½              | æ”¹è‰¯ãƒ»ç°¡æ½”åŒ–        | âœ… å®Œäº†  |
| ã‚³ãƒ¼ãƒ‰åˆ†è§£ (`-decode`) | åŒç­‰                | æ”¹è‰¯            | âœ… å®Œäº†  |
| ä¾‹å¤–é€å‡º (`-throw`)   | stderrå‡ºåŠ›ï¼‹ãƒ­ã‚°       | ãƒ­ã‚°ã®ã¿ï¼ˆé™éŸ³ï¼‰      | âœ… æ”¹è‰¯  |
| æˆ»ã‚Šå€¤è¿”å´ (`-return`) | exit /b ã®ã¿        | traceå‘¼å‡ºï¼‹è¿”å´    | âœ… æ”¹è‰¯  |
| æ•´å½¢å‡ºåŠ› (`-pretty`)  | éƒ¨åˆ†çš„è¡¨ç¤º             | æ”¹è‰¯ï¼ˆè‰²å¯¾å¿œï¼‰       | âœ… ç¶™æ‰¿  |
| ãƒˆãƒ¬ãƒ¼ã‚¹ãƒ­ã‚° (`-trace`) | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«å¤šæ•°      | çµ±åˆå‡ºåŠ›1ï½2ãƒ•ã‚¡ã‚¤ãƒ«   | âœ… æ”¹è‰¯  |
| ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³         | æœ‰ã‚Š                | ä¸€æ™‚å‰Šé™¤ï¼ˆå¾Œæ—¥å†å®Ÿè£…äºˆå®šï¼‰ | âš  æœªå¯¾å¿œ |
| ctxï¼ˆå‘¼å‡ºå…ƒæƒ…å ±ï¼‰        | æœ‰ã‚Š                | å»ƒæ­¢ï¼ˆå†—é•·ï¼‰        | ğŸš« å‰Šé™¤ |

---

## 6. å‘½åãƒ»å¤‰æ•°ãƒãƒªã‚·ãƒ¼

| ç¨®åˆ¥     | å‘½åè¦å‰‡        | ä¾‹                                    |
| ------ | ----------- | ------------------------------------ |
| ã‚³ãƒãƒ³ãƒ‰   | å°æ–‡å­—çµ±ä¸€       | `call rcs_util -trace ...`           |
| å¤‰æ•°     | snake\_case | `runtime_ipc_dir`, `config_logs_dir` |
| å®šæ•°     | å¤§æ–‡å­—ï¼‹ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ | `RCS_LOG_FILE`, `RCS_LOG_DIR`        |
| ãƒ‡ãƒãƒƒã‚°å¤‰æ•° | å…¨å¤§æ–‡å­—        | `RC_LAST`, `RCS_EXIT`                |

---

## 7. é‹ç”¨ãƒ•ãƒ­ãƒ¼

```
AstralDivide.bat  (é…å¸ƒç”¨èµ·å‹•ãƒ•ã‚¡ã‚¤ãƒ«)
   â†“
Run.bat  (Launcher)
   â”œâ”€ RCS bootstrap
   â”‚    â”œâ”€ RCS_Utilå­˜åœ¨ç¢ºèª
   â”‚    â”œâ”€ ReturnCodeConstèª­è¾¼
   â”‚    â””â”€ RC_OKå®šç¾©
   â”‚
   â””â”€ Main.bat å®Ÿè¡Œ
```

åˆå›èµ·å‹•æ™‚ã« RCSU/Const ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ `FailRun` ã¸é·ç§»ã—ã€ å…±é€šã‚¨ãƒ©ãƒ¼ `90610001`ï¼ˆSystems / I/O / case001ï¼‰ã‚’ç™ºè¡Œã™ã‚‹ã€‚

---

## 8. ä»Šå¾Œã®å±•æœ›

- **v0.4.x:** Codexé€£æº / RCS\_ERROR\_CODE.md è‡ªå‹•ç”Ÿæˆé€£å‹•
- **v1.0:** RCSã‚’AstralDivide Coreãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦çµ±åˆã€‚Bootstrapã‹ã‚‰ç›´æ¥ãƒªãƒ³ã‚¯ã€‚
- **vFuture:** Prettyå‡ºåŠ›ã®JSONå½¢å¼æ‹¡å¼µã€ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰å¯¾å¿œæ¤œè¨ï¼ˆcmdgfxçµ±åˆæ™‚ï¼‰

---

## 9. ç·è©•

RCS v0.3aã¯ã€æ—§æ¥ã®ReturnCodeUtilã®å†—é•·æ€§ã‚’å®Œå…¨æ’é™¤ã—ã€ ãƒ­ã‚°ãƒ»æˆ»ã‚Šå€¤ãƒ»ä¾‹å¤–ã®ä¸‰æœ¬æŸ±ã‚’åˆ†é›¢ãƒ»æ˜æ–‡åŒ–ã—ãŸåˆã®å®‰å®šç‰ˆã§ã‚ã‚‹ã€‚\
é–‹ç™ºè€…ã®ç†å¿µã€Œ**é»™ã£ã¦è¨˜éŒ²ã—ã€å¿…è¦ãªæ™‚ã ã‘èªã‚‹**ã€ã‚’ä½“ç¾ã™ã‚‹æ§‹é€ ã¨ãªã£ãŸã€‚

> **RCS Philosophy:**
>
> - â€œTrace everything, but display nothing.â€
> - â€œHuman-readable only when needed.â€

---

**End of Document â€“ RCS Protocol v0.3a**

